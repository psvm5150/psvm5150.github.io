<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/svg+xml" href="./favicon.svg">
    <!-- viewer-config.json: page_title -->
    <title></title>
    <script src="lib/js/marked.min.js" defer></script>
    <!-- GitHub 마크다운 CSS - 라이트모드 (항상 적용) -->
<link rel="stylesheet" href="lib/css/github-markdown-light.min.css" id="md-light">
<!-- GitHub 마크다운 CSS - 다크모드 (JS로만 켜짐) -->
<link rel="stylesheet" href="lib/css/github-markdown-dark.min.css" id="md-dark" disabled>
<!-- Syntax Highlighting - 라이트모드 (항상 적용) -->
<link rel="stylesheet" href="lib/css/github.min.css" id="highlight-light">
<!-- Syntax Highlighting - 다크모드 (JS로만 켜짐) -->
<link rel="stylesheet" href="lib/css/github-dark.min.css" id="highlight-dark" disabled>
    <script src="lib/js/highlight.min.js" defer></script>
    <link rel="stylesheet" href="./css/viewer.css">
    <script>
    // Early theme injection to avoid any visual fallback
    (function(){
      try {
        var xhr = new XMLHttpRequest();
        xhr.open('GET', './properties/viewer-config.json', true);
        xhr.onreadystatechange = function(){
          if (xhr.readyState === 4 && xhr.status >= 200 && xhr.status < 300) {
            try {
              var cfg = JSON.parse(xhr.responseText || '{}');
              var theme = (cfg && (cfg.colour_theme || cfg.color_theme)) ? String(cfg.colour_theme || cfg.color_theme).trim() : '';
              if (theme) {
                var safe = theme.toLowerCase().replace(/[^a-z0-9-_]/g, '');
                if (safe) {
                  var link = document.createElement('link');
                  link.id = 'colour-theme';
                  link.rel = 'stylesheet';
                  link.href = './css/themes/' + safe + '.css';
                  document.head.appendChild(link);
                }
              }
            } catch(e) { /* ignore */ }
          }
        };
        xhr.send();
      } catch(e) { /* ignore */ }
    })();
    </script>
</head>
<body>
    <header class="header">
        <div class="container">
            <div class="header-content">
                <!-- iewer-config.json: page_title -->
                <h1></h1>
                <div class="header-controls">
                    <!-- viewer-config.json: dark_mode_button_label -->
                    <button id="darkmode-toggle" class="darkmode-toggle"></button>
                    <!-- viewer-config.json: home_button_label -->
                    <a href="/" class="home-button"></a>
                </div>
            </div>
        </div>
    </header>

    <main class="main-content">
        <div class="container">
            <div id="content">
                <div class="loading" data-i18n="msg_loading_document_viewer">📖 Loading document...</div>
            </div>
        </div>
    </main>

    <footer class="footer">
        <div class="container">
            <!-- viewer-config.json: copyright_text -->
            <p></p>
            <!-- viewer-config.json: home_button_label -->
            <a href="/" class="home-button"></a>
        </div>
    </footer>

    <script src="./js/common.js" defer></script>
    <script src="./js/viewer.js" defer></script>
</body>
</html>
